import{g as e,K as t,d as n,e as a,m as r,r as o,C as s,c as i,f as l,h as d,j as c,A as m,i as u,b as p,k as g,n as h}from"./index-C6zX2SRZ.js";import{u as x,C as y,I as f,T as b}from"./index.esm-BsMyCNZh.js";import{z as v,t as j}from"./zod-BFJUL-wP.js";import{T as w,D as $,d as k,f as S,a as N}from"./formatDistance-BrY6NlKz.js";import{M as C,P as T,a as D,u as O}from"./useClinic-DinOQmHk.js";import{F as z,R as I,C as M}from"./index-B-iEr06H.js";import{S as R,R as E,F as P}from"./Table-CBty_o9F.js";import{F}from"./index-CFkhth9c.js";import{c as B}from"./createLucideIcon-BAFi2SbO.js";import{g as A,i as L,B as _}from"./index-BY_Qhazh.js";import{C as q}from"./index-CW05s8qR.js";import{S as H}from"./index-DS2Dt-Nn.js";import{T as W,X as Y}from"./x-98_fxpO5.js";import"./EllipsisOutlined-DxXsbDtU.js";import"./index-D1aKdTtl.js";import"./addEventListener-DEOXMgie.js";import"./LeftOutlined-DfIWAn0w.js";import"./gapSize-CdihaDRW.js";const Z=new t("antStatusProcessing",{"0%":{transform:"scale(0.8)",opacity:.5},"100%":{transform:"scale(2.4)",opacity:0}}),U=new t("antZoomBadgeIn",{"0%":{transform:"scale(0) translate(50%, -50%)",opacity:0},"100%":{transform:"scale(1) translate(50%, -50%)"}}),G=new t("antZoomBadgeOut",{"0%":{transform:"scale(1) translate(50%, -50%)"},"100%":{transform:"scale(0) translate(50%, -50%)",opacity:0}}),X=new t("antNoWrapperZoomBadgeIn",{"0%":{transform:"scale(0)",opacity:0},"100%":{transform:"scale(1)"}}),K=new t("antNoWrapperZoomBadgeOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0)",opacity:0}}),V=new t("antBadgeLoadingCircle",{"0%":{transformOrigin:"50%"},"100%":{transform:"translate(50%, -50%) rotate(360deg)",transformOrigin:"50%"}}),J=e=>{const{fontHeight:t,lineWidth:n,marginXS:a,colorBorderBg:o}=e,s=t,i=n,l=e.colorTextLightSolid,d=e.colorError,c=e.colorErrorHover;return r(e,{badgeFontHeight:s,badgeShadowSize:i,badgeTextColor:l,badgeColor:d,badgeColorHover:c,badgeShadowColor:o,badgeProcessingDuration:"1.2s",badgeRibbonOffset:a,badgeRibbonCornerTransform:"scaleY(0.75)",badgeRibbonCornerFilter:"brightness(75%)"})},Q=e=>{const{fontSize:t,lineHeight:n,fontSizeSM:a,lineWidth:r}=e;return{indicatorZIndex:"auto",indicatorHeight:Math.round(t*n)-2*r,indicatorHeightSM:t,dotSize:a/2,textFontSize:a,textFontSizeSM:a,textFontWeight:"normal",statusSize:a/2}},ee=e("Badge",(e=>(e=>{const{componentCls:t,iconCls:r,antCls:o,badgeShadowSize:s,textFontSize:i,textFontSizeSM:l,statusSize:d,dotSize:c,textFontWeight:m,indicatorHeight:u,indicatorHeightSM:p,marginXS:g,calc:h}=e,x=`${o}-scroll-number`,y=A(e,((e,n)=>{let{darkColor:a}=n;return{[`&${t} ${t}-color-${e}`]:{background:a,[`&:not(${t}-count)`]:{color:a},"a:hover &":{background:a}}}}));return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},n(e)),{position:"relative",display:"inline-block",width:"fit-content",lineHeight:1,[`${t}-count`]:{display:"inline-flex",justifyContent:"center",zIndex:e.indicatorZIndex,minWidth:u,height:u,color:e.badgeTextColor,fontWeight:m,fontSize:i,lineHeight:a(u),whiteSpace:"nowrap",textAlign:"center",background:e.badgeColor,borderRadius:h(u).div(2).equal(),boxShadow:`0 0 0 ${a(s)} ${e.badgeShadowColor}`,transition:`background ${e.motionDurationMid}`,a:{color:e.badgeTextColor},"a:hover":{color:e.badgeTextColor},"a:hover &":{background:e.badgeColorHover}},[`${t}-count-sm`]:{minWidth:p,height:p,fontSize:l,lineHeight:a(p),borderRadius:h(p).div(2).equal()},[`${t}-multiple-words`]:{padding:`0 ${a(e.paddingXS)}`,bdi:{unicodeBidi:"plaintext"}},[`${t}-dot`]:{zIndex:e.indicatorZIndex,width:c,minWidth:c,height:c,background:e.badgeColor,borderRadius:"100%",boxShadow:`0 0 0 ${a(s)} ${e.badgeShadowColor}`},[`${t}-count, ${t}-dot, ${x}-custom-component`]:{position:"absolute",top:0,insetInlineEnd:0,transform:"translate(50%, -50%)",transformOrigin:"100% 0%",[`&${r}-spin`]:{animationName:V,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear"}},[`&${t}-status`]:{lineHeight:"inherit",verticalAlign:"baseline",[`${t}-status-dot`]:{position:"relative",top:-1,display:"inline-block",width:d,height:d,verticalAlign:"middle",borderRadius:"50%"},[`${t}-status-success`]:{backgroundColor:e.colorSuccess},[`${t}-status-processing`]:{overflow:"visible",color:e.colorInfo,backgroundColor:e.colorInfo,borderColor:"currentcolor","&::after":{position:"absolute",top:0,insetInlineStart:0,width:"100%",height:"100%",borderWidth:s,borderStyle:"solid",borderColor:"inherit",borderRadius:"50%",animationName:Z,animationDuration:e.badgeProcessingDuration,animationIterationCount:"infinite",animationTimingFunction:"ease-in-out",content:'""'}},[`${t}-status-default`]:{backgroundColor:e.colorTextPlaceholder},[`${t}-status-error`]:{backgroundColor:e.colorError},[`${t}-status-warning`]:{backgroundColor:e.colorWarning},[`${t}-status-text`]:{marginInlineStart:g,color:e.colorText,fontSize:e.fontSize}}}),y),{[`${t}-zoom-appear, ${t}-zoom-enter`]:{animationName:U,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack,animationFillMode:"both"},[`${t}-zoom-leave`]:{animationName:G,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack,animationFillMode:"both"},[`&${t}-not-a-wrapper`]:{[`${t}-zoom-appear, ${t}-zoom-enter`]:{animationName:X,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack},[`${t}-zoom-leave`]:{animationName:K,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack},[`&:not(${t}-status)`]:{verticalAlign:"middle"},[`${x}-custom-component, ${t}-count`]:{transform:"none"},[`${x}-custom-component, ${x}`]:{position:"relative",top:"auto",display:"block",transformOrigin:"50% 50%"}},[x]:{overflow:"hidden",transition:`all ${e.motionDurationMid} ${e.motionEaseOutBack}`,[`${x}-only`]:{position:"relative",display:"inline-block",height:u,transition:`all ${e.motionDurationSlow} ${e.motionEaseOutBack}`,WebkitTransformStyle:"preserve-3d",WebkitBackfaceVisibility:"hidden",[`> p${x}-only-unit`]:{height:u,margin:0,WebkitTransformStyle:"preserve-3d",WebkitBackfaceVisibility:"hidden"}},[`${x}-symbol`]:{verticalAlign:"top"}},"&-rtl":{direction:"rtl",[`${t}-count, ${t}-dot, ${x}-custom-component`]:{transform:"translate(-50%, -50%)"}}})}})(J(e))),Q),te=e(["Badge","Ribbon"],(e=>(e=>{const{antCls:t,badgeFontHeight:r,marginXS:o,badgeRibbonOffset:s,calc:i}=e,l=`${t}-ribbon`,d=`${t}-ribbon-wrapper`,c=A(e,((e,t)=>{let{darkColor:n}=t;return{[`&${l}-color-${e}`]:{background:n,color:n}}}));return{[d]:{position:"relative"},[l]:Object.assign(Object.assign(Object.assign(Object.assign({},n(e)),{position:"absolute",top:o,padding:`0 ${a(e.paddingXS)}`,color:e.colorPrimary,lineHeight:a(r),whiteSpace:"nowrap",backgroundColor:e.colorPrimary,borderRadius:e.borderRadiusSM,[`${l}-text`]:{color:e.badgeTextColor},[`${l}-corner`]:{position:"absolute",top:"100%",width:s,height:s,color:"currentcolor",border:`${a(i(s).div(2).equal())} solid`,transform:e.badgeRibbonCornerTransform,transformOrigin:"top",filter:e.badgeRibbonCornerFilter}}),c),{[`&${l}-placement-end`]:{insetInlineEnd:i(s).mul(-1).equal(),borderEndEndRadius:0,[`${l}-corner`]:{insetInlineEnd:0,borderInlineEndColor:"transparent",borderBlockEndColor:"transparent"}},[`&${l}-placement-start`]:{insetInlineStart:i(s).mul(-1).equal(),borderEndStartRadius:0,[`${l}-corner`]:{insetInlineStart:0,borderBlockEndColor:"transparent",borderInlineStartColor:"transparent"}},"&-rtl":{direction:"rtl"}})}})(J(e))),Q),ne=e=>{const{prefixCls:t,value:n,current:a,offset:r=0}=e;let s;return r&&(s={position:"absolute",top:`${r}00%`,left:0}),o.createElement("span",{style:s,className:i(`${t}-only-unit`,{current:a})},n)};function ae(e,t,n){let a=e,r=0;for(;(a+10)%10!==t;)a+=n,r+=n;return r}const re=e=>{const{prefixCls:t,count:n,value:a}=e,r=Number(a),s=Math.abs(n),[i,l]=o.useState(r),[d,c]=o.useState(s),m=()=>{l(r),c(s)};let u,p;if(o.useEffect((()=>{const e=setTimeout(m,1e3);return()=>clearTimeout(e)}),[r]),i===r||Number.isNaN(r)||Number.isNaN(i))u=[o.createElement(ne,Object.assign({},e,{key:r,current:!0}))],p={transition:"none"};else{u=[];const t=r+10,n=[];for(let e=r;e<=t;e+=1)n.push(e);const a=d<s?1:-1,l=n.findIndex((e=>e%10===i));u=(a<0?n.slice(0,l+1):n.slice(l)).map(((t,n)=>{const r=t%10;return o.createElement(ne,Object.assign({},e,{key:t,value:r,offset:a<0?n-l:n,current:n===l}))})),p={transform:`translateY(${-ae(i,r,a)}00%)`}}return o.createElement("span",{className:`${t}-only`,style:p,onTransitionEnd:m},u)};const oe=o.forwardRef(((e,t)=>{const{prefixCls:n,count:a,className:r,motionClassName:d,style:c,title:m,show:u,component:p="sup",children:g}=e,h=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n}(e,["prefixCls","count","className","motionClassName","style","title","show","component","children"]),{getPrefixCls:x}=o.useContext(s),y=x("scroll-number",n),f=Object.assign(Object.assign({},h),{"data-show":u,style:c,className:i(y,r,d),title:m});let b=a;if(a&&Number(a)%1==0){const e=String(a).split("");b=o.createElement("bdi",null,e.map(((t,n)=>o.createElement(re,{prefixCls:y,count:Number(a),value:t,key:e.length-n}))))}return(null==c?void 0:c.borderColor)&&(f.style=Object.assign(Object.assign({},c),{boxShadow:`0 0 0 1px ${c.borderColor} inset`})),g?l(g,(e=>({className:i(`${y}-custom-component`,null==e?void 0:e.className,d)}))):o.createElement(p,Object.assign({},f,{ref:t}),b)}));const se=o.forwardRef(((e,t)=>{var n,a,r,c,m;const{prefixCls:u,scrollNumberPrefixCls:p,children:g,status:h,text:x,color:y,count:f=null,overflowCount:b=99,dot:v=!1,size:j="default",title:w,offset:$,style:k,className:S,rootClassName:N,classNames:C,styles:T,showZero:D=!1}=e,O=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n}(e,["prefixCls","scrollNumberPrefixCls","children","status","text","color","count","overflowCount","dot","size","title","offset","style","className","rootClassName","classNames","styles","showZero"]),{getPrefixCls:z,direction:I,badge:M}=o.useContext(s),R=z("badge",u),[E,P,F]=ee(R),B=f>b?`${b}+`:f,A="0"===B||0===B,_=(null!=h||null!=y)&&(null===f||A&&!D),q=v&&!A,H=q?"":B,W=o.useMemo((()=>(null==H||""===H||A&&!D)&&!q),[H,A,D,q]),Y=o.useRef(f);W||(Y.current=f);const Z=Y.current,U=o.useRef(H);W||(U.current=H);const G=U.current,X=o.useRef(q);W||(X.current=q);const K=o.useMemo((()=>{if(!$)return Object.assign(Object.assign({},null==M?void 0:M.style),k);const e={marginTop:$[1]};return"rtl"===I?e.left=parseInt($[0],10):e.right=-parseInt($[0],10),Object.assign(Object.assign(Object.assign({},e),null==M?void 0:M.style),k)}),[I,$,k,null==M?void 0:M.style]),V=null!=w?w:"string"==typeof Z||"number"==typeof Z?Z:void 0,J=W||!x?null:o.createElement("span",{className:`${R}-status-text`},x),Q=Z&&"object"==typeof Z?l(Z,(e=>({style:Object.assign(Object.assign({},K),e.style)}))):void 0,te=L(y,!1),ne=i(null==C?void 0:C.indicator,null===(n=null==M?void 0:M.classNames)||void 0===n?void 0:n.indicator,{[`${R}-status-dot`]:_,[`${R}-status-${h}`]:!!h,[`${R}-color-${y}`]:te}),ae={};y&&!te&&(ae.color=y,ae.background=y);const re=i(R,{[`${R}-status`]:_,[`${R}-not-a-wrapper`]:!g,[`${R}-rtl`]:"rtl"===I},S,N,null==M?void 0:M.className,null===(a=null==M?void 0:M.classNames)||void 0===a?void 0:a.root,null==C?void 0:C.root,P,F);if(!g&&_){const e=K.color;return E(o.createElement("span",Object.assign({},O,{className:re,style:Object.assign(Object.assign(Object.assign({},null==T?void 0:T.root),null===(r=null==M?void 0:M.styles)||void 0===r?void 0:r.root),K)}),o.createElement("span",{className:ne,style:Object.assign(Object.assign(Object.assign({},null==T?void 0:T.indicator),null===(c=null==M?void 0:M.styles)||void 0===c?void 0:c.indicator),ae)}),x&&o.createElement("span",{style:{color:e},className:`${R}-status-text`},x)))}return E(o.createElement("span",Object.assign({ref:t},O,{className:re,style:Object.assign(Object.assign({},null===(m=null==M?void 0:M.styles)||void 0===m?void 0:m.root),null==T?void 0:T.root)}),g,o.createElement(d,{visible:!W,motionName:`${R}-zoom`,motionAppear:!1,motionDeadline:1e3},(e=>{let{className:t}=e;var n,a;const r=z("scroll-number",p),s=X.current,l=i(null==C?void 0:C.indicator,null===(n=null==M?void 0:M.classNames)||void 0===n?void 0:n.indicator,{[`${R}-dot`]:s,[`${R}-count`]:!s,[`${R}-count-sm`]:"small"===j,[`${R}-multiple-words`]:!s&&G&&G.toString().length>1,[`${R}-status-${h}`]:!!h,[`${R}-color-${y}`]:te});let d=Object.assign(Object.assign(Object.assign({},null==T?void 0:T.indicator),null===(a=null==M?void 0:M.styles)||void 0===a?void 0:a.indicator),K);return y&&!te&&(d=d||{},d.background=y),o.createElement(oe,{prefixCls:r,show:!W,motionClassName:t,className:l,count:G,title:V,style:d,key:"scrollNumber"},Q)})),J))}));se.Ribbon=e=>{const{className:t,prefixCls:n,style:a,color:r,children:l,text:d,placement:c="end",rootClassName:m}=e,{getPrefixCls:u,direction:p}=o.useContext(s),g=u("ribbon",n),h=`${g}-wrapper`,[x,y,f]=te(g,h),b=L(r,!1),v=i(g,`${g}-placement-${c}`,{[`${g}-rtl`]:"rtl"===p,[`${g}-color-${r}`]:b},t),j={},w={};return r&&!b&&(j.background=r,w.color=r),x(o.createElement("div",{className:i(h,m,y,f)},l,o.createElement("div",{className:i(v,y),style:Object.assign(Object.assign({},j),a)},o.createElement("span",{className:`${g}-text`},d),o.createElement("div",{className:`${g}-corner`,style:w}))))};
/**
 * @license lucide-react v0.471.1 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const ie=B("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),le=B("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),de=B("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),ce=B("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),me=B("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),ue=B("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),pe=B("GitPullRequestArrow",[["circle",{cx:"5",cy:"6",r:"3",key:"1qnov2"}],["path",{d:"M5 9v12",key:"ih889a"}],["circle",{cx:"19",cy:"18",r:"3",key:"1qljk2"}],["path",{d:"m15 9-3-3 3-3",key:"1lwv8l"}],["path",{d:"M12 6h5a2 2 0 0 1 2 2v7",key:"1yj91y"}]]),{Text:ge}=b,he=v.object({name:v.string().min(1,"Name is required").transform((e=>e.trim().toLowerCase())),gender:v.enum(["male","female"]).transform((e=>e.trim().toLowerCase())),phone:v.string().regex(/^\d{10}$/,"Phone must be exactly 10 digits"),ageType:v.enum(["age","dob"]).transform((e=>e.trim().toLowerCase())),age:v.union([v.number(),v.string()]).transform((e=>"string"==typeof e&&""===e?0:Number(e))),dob:v.string(),clinic:v.string().min(1,"Please select a clinic"),trays:v.string().min(1,"Trays are required")}).refine((e=>"age"===e.ageType?e.age>0:""!==e.dob),{message:"Either age or date of birth must be provided"}),xe=({open:e,onCancel:t,clinics:n,onRecordSubmit:a})=>{var r,o,s,i,l,d,m;const{control:u,handleSubmit:p,reset:g,watch:h,formState:{errors:b}}=x({resolver:j(he),defaultValues:{name:"",gender:"male",phone:"",ageType:"age",age:0,dob:"",clinic:"",trays:""}}),v=h("ageType");return c.jsx(C,{open:e,onCancel:()=>{g(),t()},title:c.jsx(ge,{strong:!0,style:{fontSize:"18px"},children:"New Record"}),onOk:p((e=>{const n={name:e.name,gender:e.gender,phone:e.phone,age:"age"===e.ageType?e.age:0,dob:"dob"===e.ageType?e.dob:"",clinic:e.clinic,trays:e.trays};console.log(n),a(n),g(),t()})),width:600,children:c.jsx(z,{layout:"vertical",size:"small",children:c.jsxs(I,{gutter:16,children:[c.jsxs(M,{span:12,children:[c.jsx(z.Item,{label:c.jsx(ge,{strong:!0,children:"Patient Name"}),required:!0,validateStatus:b.name?"error":"",help:null==(r=b.name)?void 0:r.message,style:{marginBottom:12},children:c.jsx(y,{name:"name",control:u,render:({field:e})=>c.jsx(f,{...e,size:"large",status:b.name?"error":"",placeholder:"Enter name"})})}),c.jsx(z.Item,{label:c.jsx(ge,{strong:!0,children:"Phone"}),required:!0,validateStatus:b.phone?"error":"",help:null==(o=b.phone)?void 0:o.message,style:{marginBottom:12},children:c.jsx(y,{name:"phone",control:u,render:({field:e})=>c.jsx(f,{...e,size:"large",maxLength:10,status:b.phone?"error":"",placeholder:"10-digit number",onChange:t=>{const n=t.target.value.replace(/\D/g,"");e.onChange(n)}})})}),c.jsx(z.Item,{label:c.jsx(ge,{strong:!0,children:"Clinic"}),required:!0,validateStatus:b.clinic?"error":"",help:null==(s=b.clinic)?void 0:s.message,style:{marginBottom:12},children:c.jsx(y,{name:"clinic",control:u,render:({field:e})=>c.jsx(R,{...e,size:"large",status:b.clinic?"error":"",placeholder:"Select clinic",options:null==n?void 0:n.map((e=>({value:e._id,label:e.name})))})})})]}),c.jsxs(M,{span:12,children:[c.jsx(z.Item,{label:c.jsx(ge,{strong:!0,children:"Gender"}),required:!0,validateStatus:b.gender?"error":"",help:null==(i=b.gender)?void 0:i.message,style:{marginBottom:12},children:c.jsx(y,{name:"gender",control:u,render:({field:e})=>c.jsxs(E.Group,{...e,size:"large",children:[c.jsx(E,{value:"male",children:"Male"}),c.jsx(E,{value:"female",children:"Female"})]})})}),c.jsxs(z.Item,{label:c.jsx(ge,{strong:!0,children:"Age Details"}),required:!0,validateStatus:b.age||b.dob?"error":"",help:(null==(l=b.age)?void 0:l.message)||(null==(d=b.dob)?void 0:d.message),style:{marginBottom:12},children:[c.jsx(y,{name:"ageType",control:u,render:({field:e})=>c.jsxs(E.Group,{...e,size:"large",style:{marginBottom:8},children:[c.jsx(E,{value:"age",children:"Age"}),c.jsx(E,{value:"dob",children:"Date of Birth"})]})}),"age"===v?c.jsx(y,{name:"age",control:u,render:({field:{onChange:e,value:t,...n}})=>c.jsx(w,{...n,value:t||void 0,onChange:t=>e(t),size:"large",min:0,max:150,placeholder:"Enter age",style:{width:"100%"}})}):c.jsx(y,{name:"dob",control:u,render:({field:{onChange:e,value:t,...n}})=>c.jsx($,{...n,value:t?k(t):void 0,onChange:t=>{const n=t?t.format("YYYY-MM-DD"):"";e(n)},size:"large",style:{width:"100%"},placeholder:"Select date"})})]}),c.jsx(z.Item,{label:c.jsx(ge,{strong:!0,children:"Trays"}),required:!0,tooltip:"Use: 1 or 1,2,3 or 1-5",validateStatus:b.trays?"error":"",help:null==(m=b.trays)?void 0:m.message,style:{marginBottom:12},children:c.jsx(y,{name:"trays",control:u,render:({field:e})=>c.jsx(f,{...e,size:"large",status:b.trays?"error":"",placeholder:"e.g., 1,2,3 or 1-5"})})})]})]})})})},ye=async e=>m.get("/record",{params:e}),fe=async e=>m.post("/record/check",e),be=async e=>m.post("/record",e),ve=async({rid:e,tid:t,field:n,status:a,remarks:r})=>m.patch(`/record/${e}/tray/${t}/status`,{field:n,status:a,remarks:r}),je=async({rid:e,tid:t,type:n,status:a})=>m.patch(`/record/${e}/tray/${t}/type/status`,{type:n,status:a}),we=async({rid:e,status:t})=>m.patch(`/record/${e}/complete`,{status:t}),$e=async e=>m.delete(`/record/${e}`),ke=async({rid:e,num:t})=>m.patch(`/record/${e}/tray`,{num:t}),Se=async({rid:e,tid:t})=>m.delete(`/record/${e}/tray/${t}`),Ne=async({rid:e,tid:t,typeid:n})=>m.delete(`/record/${e}/tray/${t}/type/${n}`),Ce=async e=>m.post(`/record/${e}/logs`),Te=async e=>m.post("/record/report",e,{responseType:"arraybuffer"}),De=()=>{const{data:e,isLoading:t,refetch:n}=u({queryKey:["record"],queryFn:ye}),{mutate:a}=p({mutationFn:fe}),{mutate:r}=p({mutationFn:be}),{mutate:o}=p({mutationFn:ve}),{mutate:s}=p({mutationFn:je}),{mutate:i}=p({mutationFn:we}),{mutate:l}=p({mutationFn:$e}),{mutate:d}=p({mutationFn:ke}),{mutate:c}=p({mutationFn:Se}),{mutate:m}=p({mutationFn:Ne}),{mutate:g}=p({mutationFn:Ce}),{mutate:h,isPending:x}=p({mutationFn:Te});return{refetch:n,Records:e,isRecordLoading:t,checkRecordMutate:a,newRecordMutate:r,updateTrayStatusMutate:o,updateTrayTypeStatusMutate:s,removeRecordMutate:l,completeRecordMutate:i,addTrayMutate:d,removeTrayMutate:c,deleteTrayTypeMutate:m,displayLogsMutate:g,reportGenMutate:h,isReportPending:x}},Oe=({data:e,isLoading:t,onEdit:n,onDelete:a,handleTrayStatusChange:r,handleTrayTypeStatusChange:s,handleAddTay:l,handleDeleteTray:d,handleDeleteTrayType:m,handleRecordLogs:u})=>{const[p,g]=o.useState([]),[h,x]=o.useState(!1),[y,b]=o.useState(""),[v,j]=o.useState(null),[w,$]=o.useState(!1),[k,O]=o.useState(""),[z,I]=o.useState(null),M=({timeline:e,action:t})=>{const n=null==e?void 0:e.find((e=>e.action===t));return(null==n?void 0:n.time)?c.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[S(new Date(n.time),"do MMM yyyy h:mm a"),c.jsxs("span",{className:"ml-1",children:["(",N(new Date(n.time),new Date,{addSuffix:!0}),")"]})]}):null},E=({value:e,onChange:t,disabled:n,previousStepDone:a,currentStepDone:r})=>{const o=n||!a||r;return c.jsx(R,{value:e?"done":"pending",onChange:t,disabled:o,className:"w-fit",size:"small",options:[{value:"pending",label:"Pending"},{value:"done",label:"Done"}]})},B=e=>c.jsxs("div",{className:"capitalize font-semibold",children:[c.jsx("p",{children:e.name}),c.jsx("p",{children:e.phone}),c.jsx("p",{children:e.gender}),c.jsx("p",{children:null==e?void 0:e.age}),c.jsx("p",{children:null==e?void 0:e.dob})]}),A=(e,t,n,a)=>{j({parentId:e,recordId:t,status:n,checked:"done"===a}),x(!0)},L=[{title:"Name",dataIndex:"name",key:"name",sorter:!0,width:200,render:(e,t)=>c.jsx("p",{className:"text-sm font-medium text-gray-900 capitalize",children:c.jsx(T,{content:B(t),placement:"left",className:"text-wrap",children:e})})},{title:"Phone",dataIndex:"phone",key:"phone",sorter:!0,width:100,render:e=>c.jsx("p",{className:"text-sm font-medium text-gray-900 capitalize",children:e})},{title:"Age",dataIndex:["age","dob"],key:"age",sorter:!0,width:50,render:(e,t)=>c.jsx("p",{className:"text-sm font-medium text-gray-900 capitalize",children:t.age?t.age:(new Date).getFullYear()-new Date(null==t?void 0:t.dob).getFullYear()})},{title:"Clinic",dataIndex:"clinic",key:"clinic",width:100,render:e=>c.jsx("p",{className:"text-sm font-medium text-gray-900 capitalize",children:null==e?void 0:e.name})},{title:"Status",dataIndex:"status",key:"status",sorter:!0,width:50,render:e=>c.jsx("p",{className:i("text-sm font-semibold capitalize px-3 py-1 rounded-full w-fit","active"===e?"bg-green-600 text-white":"completed"===e?"bg-red-600 text-white":"bg-yellow-500 text-gray-900"),children:e})},{title:"Record",dataIndex:"trays",key:"trays",sorter:!0,width:50,render:e=>c.jsx("p",{className:"text-sm font-medium text-gray-900 capitalize",children:null==e?void 0:e.length})},{title:"Action",dataIndex:"action",key:"action",width:50,render:(e,t)=>c.jsx("div",{className:"hover:cursor-pointer m-2",children:c.jsxs(F,{justify:"space-around",align:"center",children:[c.jsx(me,{onClick:()=>{u(t._id)},size:20,className:"hover:text-yellow-600 hover:-translate-y-0.5 active:translate-y-0.5 transition-transform duration-150"}),c.jsx(D,{title:"Are you sure?",okText:"Yes",cancelText:"No",onConfirm:()=>n({rid:t._id,status:"reopened"}),className:i("completed"===t.status?"":"hidden"),children:c.jsx(pe,{size:20,className:"hover:text-blue-600 hover:-translate-y-0.5 active:translate-y-0.5 transition-transform duration-150"})}),c.jsx(de,{size:20,onClick:e=>{e.stopPropagation(),(e=>{I(e),$(!0)})(t)},className:i("hover:text-green-600 hover:-translate-y-0.5 active:translate-y-0.5 transition-transform duration-150","completed"!==t.status?"":"hidden")}),c.jsx(D,{title:"Are you sure?",onConfirm:()=>n({rid:t._id,status:"completed"}),okText:"Yes",cancelText:"No",className:i("completed"!==t.status?"":"hidden"),children:c.jsx(le,{size:20,className:"hover:text-green-600 hover:-translate-y-0.5 active:translate-y-0.5 transition-transform duration-150"})}),c.jsx(D,{title:"Are you sure?",okText:"Yes",cancelText:"No",onConfirm:()=>a(t._id),children:c.jsx(ce,{size:20,className:"hover:text-red-600 hover:-translate-y-0.5 active:translate-y-0.5 transition-transform duration-150"})})]})})}],_=[{title:"Id",dataIndex:"_id",key:"_id",width:100,align:"center",render:e=>c.jsx("p",{className:"text-sm font-medium text-gray-900 capitalize",children:e})},{title:"Status",dataIndex:"status",key:"status",sorter:!0,width:50,align:"center",render:e=>c.jsxs("div",{className:"flex ",children:[c.jsx("p",{className:"text-sm font-semibold text-gray-900 capitalize",children:"Delivered"!==e?`Ready to ${e}`:"Delivered"}),c.jsx(se,{status:"process"===e?"processing":"",className:"mx-3"})]})},{title:"Scaling",dataIndex:"Scaling",key:"isScaling",width:50,align:"center",render:(e,t)=>c.jsxs("div",{className:"space-y-5",children:[c.jsx(E,{value:e,onChange:e=>A(t.parentId,t._id,"Scaling",e),previousStepDone:!0,currentStepDone:e}),c.jsx(M,{timeline:null==t?void 0:t.Timeline,action:"Scaling"})]})},{title:"Processing",dataIndex:"Processing",key:"isProcessing",width:50,align:"center",render:(e,t)=>c.jsxs("div",{className:"space-y-5",children:[c.jsx(E,{value:e,onChange:e=>A(t.parentId,t._id,"Processing",e),previousStepDone:null==t?void 0:t.Scaling,currentStepDone:e}),c.jsx(M,{timeline:null==t?void 0:t.Timeline,action:"Processing"})]})},{title:"Dispatched",dataIndex:"Dispatched",key:"isDispatched",width:50,align:"center",render:(e,t)=>c.jsxs("div",{className:"space-y-5",children:[c.jsx(E,{value:e,onChange:e=>A(t.parentId,t._id,"Dispatched",e),previousStepDone:null==t?void 0:t.Processing,currentStepDone:e}),c.jsx(M,{timeline:null==t?void 0:t.Timeline,action:"Dispatched"})]})},{title:"Delivered",dataIndex:"Delivered",key:"isDelivered",width:50,align:"center",render:(e,t)=>c.jsxs("div",{className:"space-y-5",children:[c.jsx(E,{value:e,onChange:e=>A(t.parentId,t._id,"Delivered",e),previousStepDone:null==t?void 0:t.Dispatched,currentStepDone:e}),c.jsx(M,{timeline:null==t?void 0:t.Timeline,action:"Delivered"})]})},{title:"Trays",dataIndex:"tray",key:"tray",width:100,align:"center",render:(e,t)=>c.jsx(q,{size:"small",className:"p-2",children:null==e?void 0:e.map((e=>c.jsxs(F,{justify:"space-between",align:"center",className:"mb-1",children:[c.jsxs("div",{className:"space-x-2 flex items-baseline",children:[c.jsx("p",{className:"text-sm font-semibold text-gray-900 capitalize",children:e.type}),c.jsx(H,{checked:e.status,size:"small",onChange:n=>s(t.parentId,t._id,e._id,n),disabled:"completed"===t.parentStatus,className:i(!0!==t.Delivered&&"hidden")})]}),c.jsx(W,{size:16,className:i("hover:cursor-pointer text-gray-500 hover:text-red-600","completed"===t.parentStatus&&"hidden"),onClick:()=>{var n;n={rid:t.parentId,tid:t._id,typeid:e._id},m(n)}})]},e._id)))})},{title:"Actions",dataIndex:"tray",key:"tray",width:50,align:"center",render:(e,t)=>c.jsx(F,{justify:"space-around",align:"center",className:"hover:cursor-pointer",children:c.jsx(W,{size:20,className:i("text-gray-500 hover:text-red-600 hover:-translate-y-0.5 active:translate-y-0.5 transition-transform duration-150","completed"===t.parentStatus&&"hidden"),onClick:()=>{return e={rid:t.parentId,tid:t._id},void d(e);var e}})})}];return c.jsxs(c.Fragment,{children:[c.jsx(P,{className:"shadow-sm",dataSource:e,loading:t,columns:L,size:"small",rowKey:"_id",expandable:{expandedRowRender:e=>{const t=e.trays.map((t=>({...t,parentId:e._id,parentStatus:e.status,key:t._id})));return c.jsx(P,{dataSource:t,columns:_,pagination:!1,bordered:!0,size:"small",rowKey:"_id"})},expandedRowKeys:p,onExpandedRowsChange:e=>{g(e)}},pagination:{pageSize:5,showSizeChanger:!0,showQuickJumper:!0,showPrevNextJumpers:!0,pageSizeOptions:[5,10,15,20,50,100],showTotal:(e,t)=>`${t[0]}-${t[1]} of ${e} items`,showTitle:!0,showLessItems:!0}}),c.jsx(C,{title:"Add Remarks",open:h,onOk:()=>{if(v){const{parentId:e,recordId:t,status:n,checked:a}=v;r(e,t,n,a,y),x(!1),b(""),j(null)}},onCancel:()=>{x(!1),b(""),j(null)},okText:"Save",cancelText:"Cancel",children:c.jsx(f.TextArea,{placeholder:"Enter remarks (optional)",value:y,onChange:e=>b(e.target.value),rows:4})}),c.jsx(C,{title:"Add Tray",open:w,onOk:()=>{l({rid:z._id,num:k}),$(!1),O(""),I(null)},onCancel:()=>{$(!1),O(""),I(null)},okText:"Add",cancelText:"Cancel",children:c.jsx(f,{placeholder:"e.g., 1,2,3 or 1-5",size:"large",value:k,onChange:e=>O(e.target.value),className:"mt-2"})})]})},ze=({data:e,open:t,onCancel:n,handleDownloadReport:a})=>{const{reportGenMutate:r,isReportPending:o}=De(),{details:s,logs:i}=e,l={create:"bg-emerald-100 text-emerald-800",removed:"bg-red-100 text-red-800",Scaling:"bg-blue-100 text-blue-800",Processing:"bg-yellow-100 text-yellow-800",Dispatched:"bg-purple-100 text-purple-800",Delivered:"bg-cyan-100 text-cyan-800",opened:"bg-emerald-100 text-emerald-800",added:"bg-blue-100 text-blue-800",close:"bg-red-100 text-red-800",record:"bg-cyan-100 text-cyan-800",tray:"bg-purple-100 text-purple-800"},d=e=>{if(!e)return"";const t=["bg-orange-100 text-orange-800","bg-blue-100 text-blue-800","bg-green-100 text-green-800","bg-indigo-100 text-indigo-800","bg-purple-100 text-purple-800","bg-pink-100 text-pink-800","bg-yellow-100 text-yellow-800","bg-emerald-100 text-emerald-800"];return t[parseInt(e.slice(-4),16)%t.length]};return c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 "+(t?"":"hidden"),children:c.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-3xl max-h-[calc(100vh-40px)] flex flex-col relative overflow-hidden",children:[c.jsx("div",{className:"border-b border-gray-200 p-4 sticky top-0 bg-white z-[60]",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900 capitalize",children:null==s?void 0:s.name}),c.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:[null==s?void 0:s.age," years • ",null==s?void 0:s.gender," • ",null==s?void 0:s.clinic]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs(_,{onClick:async()=>{const e=(({details:e=[],logs:t=[]})=>{const n="\n      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;\n      max-width: 210mm;\n      background: white;\n      color: #1a1a1a;\n      line-height: 1.4;\n      padding-top: 20px; /* Add top padding for better spacing */\n    ",a="\n      padding: 20px 40px;\n      background: linear-gradient(to right, #f8fafc, #f1f5f9);\n      border-bottom: 2px solid #e2e8f0;\n      margin-bottom: 20px;\n    ",r="\n      font-size: 24px;\n      font-weight: 700;\n      margin: 0 0 8px 0;\n      color: #0f172a;\n      text-transform: capitalize;\n      letter-spacing: -0.02em;\n    ",o="\n      color: #475569;\n      margin: 0;\n      font-size: 14px;\n      display: flex;\n      gap: 12px;\n    ",s="\n      color: #94a3b8;\n    ",i="\n      padding: 10px 40px 24px 40px;\n    ",l="\n  display: flex;\n  gap: 16px;\n  padding: 16px 0;\n  border-bottom: 1px solid #e2e8f0;\n  page-break-inside: avoid; /* Prevent timeline items from splitting */\n",d="\n      background: #f8fafc;\n      border: 2px solid #e2e8f0;\n      border-radius: 50%;\n      width: 32px;\n      height: 32px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      flex-shrink: 0;\n    ",c="\n      width: 16px;\n      height: 16px;\n      color: #64748b;\n    ",m="\n      flex: 1;\n    ",u="\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      margin-bottom: 8px;\n    ",p="\n      font-weight: 600;\n      color: #0f172a;\n      font-size: 14px;\n      margin: 0;\n    ",g="\n      color: #64748b;\n      font-size: 12px;\n      font-weight: 500;\n    ",h="\n      display: flex;\n      gap: 6px;\n      flex-wrap: wrap;\n      margin-bottom: 8px;\n    ",x=e=>`\n      padding: 4px 10px;\n      border-radius: 9999px;\n      font-size: 12px;\n      font-weight: 600;\n      ${e}\n    `,y="\n      margin: 0;\n      color: #475569;\n      font-size: 13px;\n      line-height: 1.4;\n    ",f=e=>({record:"background-color: #ecfdf5; color: #047857;",create:"background-color: #f0fdf4; color: #166534;",removed:"background-color: #fef2f2; color: #991b1b;",Scaling:"background-color: #eff6ff; color: #1e40af;",Processing:"background-color: #fefce8; color: #854d0e;",Dispatched:"background-color: #f5f3ff; color: #5b21b6;",Delivered:"background-color: #ecfeff; color: #155e75;",opened:"background-color: #f0fdf4; color: #166534;",added:"background-color: #eff6ff; color: #1e40af;",close:"background-color: #fef2f2; color: #991b1b;",tray:"background-color: #f5f3ff; color: #5b21b6;"}[e]||"background-color: #f3f4f6; color: #374151;"),b=null==t?void 0:t.map(((e,n)=>`\n      <div style="${l}">\n        <div style="${d}">\n          <svg style="${c}" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">\n            <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>\n            <line x1="16" y1="2" x2="16" y2="6"></line>\n            <line x1="8" y1="2" x2="8" y2="6"></line>\n            <line x1="3" y1="10" x2="21" y2="10"></line>\n          </svg>\n        </div>\n        <div style="${m}">\n          <div style="${u}">\n            <p style="${p}">\n              ${S(new Date(e.time),"dd MMM yyyy @ h:mm a")}\n            </p>\n            ${n<t.length-1?`\n                  <span style="${g}">\n                    ${N(new Date(e.time),new Date(t[n+1].time))}\n                  </span>\n                `:""}\n          </div>\n          <div style="${h}">\n            <span style="${x(f(e.type))}">\n              ${e.type}\n            </span>\n            <span style="${x(f(e.action))}">\n              ${e.action}\n            </span>\n            ${e.trayId?`\n                  <span style="${x(f("tray"))}">\n                    Tray ID: ${e.trayId}\n                  </span>\n                `:""}\n          </div>\n          ${e.remarks?`\n                <p style="${y}">${e.remarks}</p>\n              `:""}\n        </div>\n      </div>\n    `)).join("");return`\n  <div style="${n}">\n    <div style="${a}">\n      <h1 style="${r}">${null==e?void 0:e.name.toLowerCase()}</h1>\n      <p style="${o}">\n        <span>${null==e?void 0:e.age} years</span>\n        <span style="${s}">•</span>\n        <span>${null==e?void 0:e.gender}</span>\n        <span style="${s}">•</span>\n        <span>${null==e?void 0:e.clinic}</span>\n      </p>\n    </div>\n    <div style="${i}">\n      ${b}\n    </div>\n  </div>\n`.trim()})({details:s,logs:i}),t={content:e,patientName:null==s?void 0:s.name,patientDetails:{phone:null==s?void 0:s.phone,age:null==s?void 0:s.age,gender:null==s?void 0:s.gender,clinic:null==s?void 0:s.clinic}};r(t,{onSuccess:e=>{if(!e)return void console.error("No response received for PDF generation");const t=new Blob([e],{type:"application/pdf"}),n=window.URL.createObjectURL(t),a=document.createElement("a");a.href=n;const r=`${null==s?void 0:s.name}-${null==s?void 0:s.phone}-${S(new Date,"EEE do MMM yyyy @ h:mm a")}-TimeLineReport.pdf`;a.setAttribute("download",r),document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(n)},onError:e=>{console.error("Error generating the report:",e)}})},loading:o,disabled:o,iconPosition:"end",className:"inline-flex items-center px-3 py-2 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[c.jsx(ue,{className:"h-4 w-4 mr-2"}),"Download"]}),c.jsx("button",{onClick:n,className:"p-2 text-gray-400 hover:text-gray-500 rounded-lg hover:bg-gray-100",children:c.jsx(Y,{className:"h-5 w-5"})})]})]})}),c.jsx("div",{className:"overflow-auto p-6 relative z-[55]",children:c.jsx("div",{className:"space-y-6",children:null==i?void 0:i.map(((e,t)=>c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx(ie,{className:"h-5 w-5 text-gray-400"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("p",{className:"text-sm font-medium text-gray-900",children:S(new Date(e.time),"dd MMM yyyy @ h:mm a")}),t<i.length-1&&c.jsx("p",{className:"text-xs text-gray-500",children:N(new Date(e.time),new Date(i[t+1].time))})]}),c.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[c.jsx("span",{className:`px-2.5 py-0.5 rounded-full text-xs font-medium ${l[e.type]}`,children:e.type}),c.jsx("span",{className:`px-2.5 py-0.5 rounded-full text-xs font-medium ${l[e.action]}`,children:e.action}),e.trayId&&c.jsxs("span",{className:`px-2.5 py-0.5 rounded-full text-xs font-medium ${d(e.trayId)}`,children:["Tray ID: ",e.trayId]})]}),e.remarks&&c.jsx("p",{className:"mt-2 text-sm text-gray-500",children:e.remarks})]})]},t)))})})]})})},Ie=()=>{const e=g(),{Records:t,isRecordLoading:n,checkRecordMutate:a,newRecordMutate:r,updateTrayStatusMutate:s,updateTrayTypeStatusMutate:i,completeRecordMutate:l,removeRecordMutate:d,refetch:m,addTrayMutate:u,removeTrayMutate:p,deleteTrayTypeMutate:x,displayLogsMutate:y}=De(),[f,b]=o.useState(!1),[v,j]=o.useState(!1),[w,$]=o.useState({}),{setOpenModal:k}=h(),{clinicNames:S}=O({}),N=o.useCallback((()=>{b(!0)}),[]);o.useEffect((()=>(k((()=>N)),()=>k(null))),[k,N]);return c.jsxs("div",{className:"",children:[c.jsx(Oe,{data:t||[],isLoading:n,onEdit:t=>{l(t,{onSuccess:()=>{e.success("Record Completed"),m()}})},onDelete:t=>{d(t,{onSuccess:()=>{e.success("Deleted"),m()}})},handleTrayStatusChange:(t,n,a,r,o)=>{s({rid:t,tid:n,field:a,status:r,remarks:o},{onSuccess:()=>{e.success("Updated"),m()}})},handleTrayTypeStatusChange:(t,n,a,r)=>{i({rid:t,tid:n,type:a,status:r},{onSuccess:()=>{e.success("Updated"),m()}})},handleAddTay:t=>{u(t,{onSuccess:()=>{e.success("Tray Added"),m()}})},handleDeleteTray:t=>{p(t,{onSuccess:()=>{e.success("Tray Deleted"),m()},onError:()=>{e.error("Atleast one record should be there or else try deleting entire record"),m()}})},handleDeleteTrayType:t=>{x(t,{onSuccess:()=>{e.success("Tray Type Deleted"),m()},onError:()=>{e.error("Atleast one Type should be there or else try deleting entire record"),m()}})},handleRecordLogs:e=>{y(e,{onSuccess:e=>{$(e),j(!0)}})}}),c.jsx(xe,{clinics:S||[],onRecordSubmit:t=>{a(t,{onSuccess:()=>{r(t,{onSettled:()=>{m()},onSuccess:()=>{e.success("Record Created")}})},onError:n=>{409===n.status&&C.confirm({title:"Active Record Exists",content:"There is already an active record for this patient. Do you want to create a new record anyway?",onOk:()=>{r(t,{onSettled:()=>{m()},onSuccess:()=>{e.success("Record created")}})}})}})},open:f,onCancel:()=>b(!1),footer:null}),c.jsx(ze,{data:w,open:v,onCancel:()=>{j(!1),$({})}})]})};export{Ie as default};
